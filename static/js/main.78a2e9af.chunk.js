(this["webpackJsonpquizz-t"]=this["webpackJsonpquizz-t"]||[]).push([[0],{24:function(e,t,n){e.exports={Drawer:"drawer_Drawer__1PwKS",close:"drawer_close__1RiAS",active:"drawer_active__12GYt"}},27:function(e,t,n){e.exports={ToggleMenu:"toggle-menu_ToggleMenu__2mLrM",open:"toggle-menu_open__2nNvK"}},31:function(e,t,n){e.exports={AnswerItem:"answer-item_AnswerItem__3vpos",success:"answer-item_success__31U3y",error:"answer-item_error__4Fsu9"}},32:function(e,t,n){e.exports={ActiveQuiz:"active-quiz_ActiveQuiz__1NurW",Question:"active-quiz_Question__1jQ2A"}},33:function(e,t,n){e.exports={Button:"button_Button__2JcZt",error:"button_error__xDyaN",success:"button_success__3DMm7",primary:"button_primary__1pn4v"}},34:function(e,t,n){e.exports={FinishedQuiz:"finished-quiz_FinishedQuiz__1ypZQ",success:"finished-quiz_success__1BEII",error:"finished-quiz_error__2xnLe"}},35:function(e,t,n){e.exports={Loader:"loader_Loader__Bt4zX","lds-ripple":"loader_lds-ripple__2pprl",center:"loader_center__2vBSB"}},36:function(e,t,n){e.exports={Quiz:"quiz_Quiz__1CSmQ",QuizWrapper:"quiz_QuizWrapper__3tPsC"}},37:function(e,t,n){e.exports={Input:"input_Input__qhhj0",invalid:"input_invalid__2B1I0"}},38:function(e,t,n){e.exports={Auth:"auth_Auth__18my0",AuthForm:"auth_AuthForm__3cDA_"}},48:function(e,t,n){e.exports={BackDrop:"backdrop_BackDrop__1fwC4"}},49:function(e,t,n){e.exports={Layout:"layout_Layout__Y1ll6"}},51:function(e,t,n){e.exports={AnswersList:"answer-list_AnswersList__j7IYa"}},52:function(e,t,n){e.exports={ErrorMessage:"error-message_ErrorMessage__2LNaA"}},54:function(e,t,n){e.exports={QuizList:"quiz-list_QuizList__3HsDM"}},55:function(e,t,n){e.exports={Select:"select_Select__3gxq7"}},56:function(e,t,n){e.exports={QuizCreator:"quiz-creator_QuizCreator__3o8Mz"}},60:function(e,t,n){e.exports=n(90)},65:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(22),i=n.n(o),u=(n(65),n(15)),s=n(4),c=n(5),l=n(7),p=n(6),m=n(27),d=n.n(m),h=function(e){var t=e.isOpen,n=e.onToggle,r=[d.a.ToggleMenu,"fa"];return t?(r.push("fa-times"),r.push(d.a.open)):r.push("fa-bars"),a.a.createElement("div",null,a.a.createElement("i",{className:r.join(" "),onClick:n}))},f=n(48),v=n.n(f),g=function(e){var t=e.onClick;return a.a.createElement("div",{className:v.a.BackDrop,onClick:t})},E=n(24),b=n.n(E),_=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOpen,r=t.onMenuClose,o=[{to:"/",label:"Quiz List",exact:!0}];t.isAuthorized?(o.push({to:"/quiz-creator",label:"Quiz Creator",exact:!1}),o.push({to:"/logout",label:"Logout",exact:!1})):o.push({to:"/auth",label:"Authentication",exact:!1});var i=o.map((function(t,n){var r=t.to,o=t.label,i=t.exact;return a.a.createElement("li",{key:n},a.a.createElement(u.c,{to:r,exact:i,onClick:function(){return e.props.onMenuClose()},activeClassName:b.a.active},o,"."))})),s=[b.a.Drawer];return n||s.push(b.a.close),a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",{className:s.join(" ")},a.a.createElement("ul",null,i)),n?a.a.createElement(g,{onClick:r}):null)}}]),n}(r.Component),w=n(49),z=n.n(w),O=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={menu:!1},e.onToggle=function(){e.setState({menu:!e.state.menu})},e.onMenuClose=function(){e.setState({menu:!1})},e}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:z.a.Layout},a.a.createElement(_,{isOpen:this.state.menu,onMenuClose:this.onMenuClose,isAuthorized:this.props.isAuthorized}),a.a.createElement(h,{isOpen:this.state.menu,onToggle:this.onToggle}),a.a.createElement("main",null,this.props.children))}}]),n}(r.Component),C=n(3),y=n(8),j=n(14),k=n.n(j),q=n(17),S=n(18),I=n.n(S);function Q(e){return{type:"ON_TOKEN_SET",token:e}}function A(e){return{type:"ON_ERROR",error:e}}function x(e){return function(t){setTimeout((function(){t(T())}),1e3*e)}}function T(){return localStorage.removeItem("token"),localStorage.removeItem("localId"),localStorage.removeItem("expiresIn"),{type:"ON_SESSION_EXPIRED"}}console.log(new Date(170258464e4));var N=n(31),F=n.n(N),R=function(e){var t=e.answer,n=e.onAnswerClick,r=e.answerStatus,o=t.text,i=t.id,u=[F.a.AnswerItem];return r&&u.push(F.a[r]),a.a.createElement("li",{className:u.join(" "),onClick:function(){return n(i)}},o)},L=n(51),D=n.n(L),M=function(e){var t=e.answers,n=e.onAnswerClick,r=e.answerStatus,o=t.map((function(e,t){return a.a.createElement(R,{key:t,answer:e,onAnswerClick:n,answerStatus:r?r[e.id]:null})}));return a.a.createElement("ul",{className:D.a.AnswerList},o)},U=n(32),Z=n.n(U),V=function(e){var t=e.answers,n=e.question,r=e.quizLength,o=e.onAnswerClick,i=e.activeQuestion,u=e.answerStatus;return a.a.createElement("div",{className:Z.a.ActiveQuiz},a.a.createElement("p",{className:Z.a.Question},a.a.createElement("strong",null,"1. ",n),a.a.createElement("small",null,i-1," done ",r-i+1," remains")),a.a.createElement(M,{answers:t,onAnswerClick:o,answerStatus:u}))},W=n(33),H=n.n(W),B=function(e){var t=e.disabled,n=e.onClick,r=e.type,o=e.children,i=[H.a.Button,H.a[r]];return a.a.createElement("button",{className:i.join(" "),onClick:n,disabled:t},o)},P=n(34),K=n.n(P),Y=function(e){var t=e.quiz,n=e.results,r=e.onRetry,o=t.map((function(e,t){var r=["fa","success"===n[e.id]?"fa-check":"fa-times",K.a[n[e.id]]];return a.a.createElement("li",{key:t},a.a.createElement("strong",null,"".concat(t+1,". ").concat(e.question)),a.a.createElement("i",{className:r.join(" ")}))})),i=Object.keys(n).reduce((function(e,t){return"success"===n[t]&&e++,e}),0);return a.a.createElement("div",{className:K.a.FinishedQuiz},a.a.createElement("h2",null,"Well done dude! You did it."),a.a.createElement("ul",null,o),a.a.createElement("p",null,i," correct answers from ",t.length,"."),a.a.createElement("div",null,a.a.createElement(B,{onClick:r,type:"primary"},"Retry"),a.a.createElement(u.b,{to:"/"},a.a.createElement(B,{type:"success"},"To quiz list"))))},G=n(35),J=n.n(G),X=function(e){return a.a.createElement("div",{className:J.a.center},a.a.createElement("div",{className:J.a.Loader},a.a.createElement("div",null),a.a.createElement("div",null)))},$=n(52),ee=n.n($),te=function(e){var t=e.message;return a.a.createElement("div",{className:ee.a.ErrorMessage},a.a.createElement("div",null,a.a.createElement("h2",null,"An error appeared. Error message: ".concat(t))))},ne=n(36),re=n.n(ne),ae=n(21);function oe(e){return function(t,n){var r=n().quiz,a=r.activeQuestion,o=r.quiz,i=r.answerStatus,u=r.results,s=o[a];if(i&&"success"===i[Object.keys(i)[0]])return;if(e===s.rightAnswerId){u[s.id]||(u[s.id]="success"),t(ue(Object(ae.a)({},e,"success"),u));var c=window.setTimeout((function(){var e;(e=n().quiz).activeQuestion+1===e.quiz.length?t({type:"FINISHED_QUIZ"}):t({type:"CHANGE_QUESTION",num:a+1}),window.clearTimeout(c)}),1e3)}else u[s.id]="error",t(ue(Object(ae.a)({},e,"error"),u))}}function ie(){return function(e){e({type:"RETRY_QUIZ"})}}function ue(e,t){return{type:"ANSWER_STATUS",answerStatus:e,results:t}}function se(e){return{type:"FETCH_QUIZ_SUCCESS",quiz:e}}function ce(){return{type:"FETCH_QUIZES_START"}}function le(e){return{type:"FETCH_QUIZES_FINISH ",quizes:e}}function pe(e){return{type:"FETCH_QUIZES_ERROR",error:e}}var me=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onQuizLoad(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.onRetry()}},{key:"render",value:function(){var e=this,t=this.props,n=t.quiz,r=t.activeQuestion,o=t.answerStatus,i=t.isFinished,u=t.results,s=t.loading,c=t.error;return a.a.createElement("div",{className:re.a.Quiz},a.a.createElement("h1",null,"Quiz"),a.a.createElement("div",{className:re.a.QuizWrapper},s&&!c?a.a.createElement(X,null):n.length?i?a.a.createElement(Y,{results:u,quiz:n,onRetry:e.props.onRetry}):i||c||s?a.a.createElement(te,{message:c}):a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Answer all questions"),a.a.createElement(V,{answers:n[r].answers,question:n[r].question,onAnswerClick:e.props.onAnswerClick,quizLength:n.length,activeQuestion:r+1,answerStatus:o})):a.a.createElement(X,null)))}}]),n}(r.Component);var de=Object(y.b)((function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerStatus:e.quiz.answerStatus,error:e.quiz.error,loading:e.quiz.loading,quiz:e.quiz.quiz}}),(function(e){return{onQuizLoad:function(t){return e(function(e){return function(){var t=Object(q.a)(k.a.mark((function t(n){var r,a,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ce()),t.prev=1,t.next=4,I.a.get("https://react-quiz-df3e9.firebaseio.com/quzes/".concat(e,".json"));case 4:r=t.sent,a=r.data,n(se(a)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),o="".concat(t.t0.response.data.error),n(pe(o));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},onAnswerClick:function(t){return e(oe(t))},onRetry:function(){return e(ie())}}}))(me),he=n(1),fe=n(37),ve=n.n(fe),ge=function(e){var t=e.label,n=e.errorMsg,r=e.type,o=e.valid,i=e.touched,u=e.shouldValidate,s=e.onChange,c=e.placeholder,l=e.value,p=[ve.a.Input],m=function(e,t,n){return!e&&t&&n};m(o,i,u)&&p.push(ve.a.invalid);var d="".concat(r).concat(Math.random().toFixed(3));return a.a.createElement("div",{className:p.join(" ")},a.a.createElement("label",{htmlFor:d},t),a.a.createElement("input",{id:d,type:r,value:l,placeholder:c,valid:o,touched:i,onChange:s,shouldValidate:u}),m(o,i,u)?a.a.createElement("span",null,n):null)},Ee=n(53),be=n.n(Ee);function _e(e,t){return Object(he.a)(Object(he.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function we(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.email&&(n=be.a.email(e)&&n),n}function ze(e){var t=!0;return Object.keys(e).forEach((function(n){t=e[n].valid&&t})),t}var Oe=n(38),Ce=n.n(Oe),ye=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isFormValid:!1,formControls:e.createFormControls()},e.onLogin=function(){e.props.auth(e.state.formControls.email.value,e.state.formControls.password.value,!0),e.setState({isFormValid:!1,formControls:e.createFormControls()})},e.onRegister=function(){e.props.auth(e.state.formControls.email.value,e.state.formControls.password.value,!1),e.setState({isFormValid:!1,formControls:e.createFormControls()})},e.onInputChange=function(t,n){var r=Object(he.a)({},e.state.formControls),a=Object(he.a)({},r[n]);a.value=t.target.value,a.touched=!0,a.valid=we(t.target.value,a.validate),r[n]=a,e.setState({formControls:r,isFormValid:ze(r)})},e.onInputsRender=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t],o=r.value,i=r.type,u=r.label,s=r.placeholder,c=r.errorMsg,l=r.valid,p=r.touched,m=r.validate;return a.a.createElement(ge,{key:n,value:o,type:i,label:u,placeholder:s,errorMsg:c,valid:l,touched:p,shouldValidate:!!m,onChange:function(n){return e.onInputChange(n,t)}})}))},e}return Object(c.a)(n,[{key:"createFormControls",value:function(){return{email:_e({type:"email",label:"Email",placeholder:"Enter your email here",errorMsg:"Wrong email format",validate:{required:!0,email:!0}}),password:_e({type:"password",label:"Password",placeholder:"Enter your password here",errorMsg:"Too short password",validate:{required:!0,minLength:6}})}}},{key:"render",value:function(){return a.a.createElement("div",{className:Ce.a.Auth},a.a.createElement("div",null,a.a.createElement("h2",null,"Authorization"),a.a.createElement("h4",null,"(email: test2@test.com, password: 123456, or make your own registration)"),this.props.error?a.a.createElement(te,{message:this.props.error}):a.a.createElement("form",{className:Ce.a.AuthForm,onSubmit:function(e){return e.preventDefault()}},this.onInputsRender(),a.a.createElement(B,{disabled:!this.state.isFormValid,onClick:this.onLogin,type:"success"},"Log In"),a.a.createElement(B,{disabled:!this.state.isFormValid,onClick:this.onRegister,type:"primary"},"Register"))))}}]),n}(r.Component);var je=Object(y.b)((function(e){return{error:e.auth.error}}),(function(e){return{auth:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(q.a)(k.a.mark((function r(a){var o,i,u,s,c,l;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={email:e,password:t,returnSecureToken:!0},i="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyA7pT-0dwEZlhLYnbTSKq2oPRu37hovKwQ",n&&(i="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyA7pT-0dwEZlhLYnbTSKq2oPRu37hovKwQ"),r.prev=3,r.next=6,I.a.post(i,o);case 6:u=r.sent,s=u.data,c=new Date((new Date).getTime()+1e3*s.expiresIn),localStorage.setItem("token",s.idToken),localStorage.setItem("localId",s.localId),localStorage.setItem("expiresIn",c),a(Q(s.idToken)),a(x(s.expiresIn)),r.next=20;break;case 16:r.prev=16,r.t0=r.catch(3),l=r.t0.response.data.error.message,a(A(l));case 20:case"end":return r.stop()}}),r,null,[[3,16]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))(ye),ke=n(54),qe=n.n(ke),Se=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onQuizListRender=function(){return e.props.quizes.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(u.c,{to:"/quiz/"+e.id},e.name))}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuizes()}},{key:"render",value:function(){var e=this.props.error?a.a.createElement(te,{message:this.props.error}):null,t=this.props.loading?a.a.createElement(X,null):a.a.createElement("ul",null,this.onQuizListRender());return a.a.createElement("div",{className:qe.a.QuizList},a.a.createElement("div",null,a.a.createElement("h2",null,"Quiz List"),e,t))}}]),n}(r.Component);var Ie=Object(y.b)((function(e){return{quizes:e.quiz.quizes,loading:e.quiz.loading,error:e.quiz.error}}),(function(e){return{fetchQuizes:function(){return e(function(){var e=Object(q.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ce),e.prev=1,e.next=4,I.a.get("https://react-quiz-df3e9.firebaseio.com/quzes.json");case 4:n=e.sent,r=[],Object.keys(n.data).forEach((function(e,t){r.push({id:e,name:"To Test ".concat(t+1)})})),t(le(r)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),a=e.t0.response.data.error,t(pe(a));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Se),Qe=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return a.a.createElement(C.a,{to:"/"})}}]),n}(r.Component);var Ae=Object(y.b)(null,(function(e){return{logout:function(){return e(T())}}}))(Qe),xe=n(55),Te=n.n(xe),Ne=function(e){var t=e.onChange,n=e.label,r=e.value,o=e.options,i="".concat(n,"-").concat(Math.random().toFixed(2));return a.a.createElement("div",{className:Te.a.Select},a.a.createElement("label",{htmlFor:i},n),a.a.createElement("select",{id:i,value:r,onChange:t},o.map((function(e,t){var n=e.text,r=e.value;return a.a.createElement("option",{key:t+n,value:r},n)}))))};function Fe(e){return{type:"ON_ERROR",error:e}}var Re=n(56),Le=n.n(Re),De=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).createControl=function(e){return _e({label:"Add answer option \u2116 ".concat(e),errorMsg:"Answer option must be here",id:e},{required:!0})},e.createFormControls=function(){return{question:_e({label:"Please type your question here",errorMsg:"This field mustn't be empty"},{required:!0}),option1:e.createControl(1),option2:e.createControl(2),option3:e.createControl(3),option4:e.createControl(4)}},e.state={rightAnswerId:1,isFormValid:!1,formControls:e.createFormControls()},e.onAddQuestion=function(t){t.preventDefault();var n=e.state.formControls,r=n.question,a=n.option1,o=n.option2,i=n.option3,u=n.option4,s={question:r.value,id:e.props.quiz.length+1,rightAnswerId:+e.state.rightAnswerId,answers:[{text:a.value,id:a.id},{text:o.value,id:o.id},{text:i.value,id:i.id},{text:u.value,id:u.id}]};e.props.addQuizItem(s),e.setState({rightAnswerId:1,isFormValid:!1,formControls:e.createFormControls()})},e.onCreateQuiz=function(t){t.preventDefault(),e.props.createQuiz(),e.setState({rightAnswerId:1,isFormValid:!1,formControls:e.createFormControls()})},e.onInputChange=function(t,n){var r=Object(he.a)({},e.state.formControls),a=Object(he.a)({},r[n]);a.value=t.target.value,a.touched=!0,a.valid=we(t.target.value,a.validation),r[n]=a,e.setState({formControls:r,isFormValid:ze(r)})},e.onCreateInputs=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t],o=r.value,i=r.valid,u=r.validation,s=r.touched,c=r.errorMsg,l=r.label,p=r.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,{label:l,value:o,valid:i,shouldValidate:!!u,touched:s,errorMsg:c,id:p,onChange:function(n){return e.onInputChange(n,t)}}),0===n?a.a.createElement("hr",null):null)}))},e.onSelectChange=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=a.a.createElement(Ne,{label:"Choose correct answer number",value:this.state.rightAnswerId,onChange:this.onSelectChange,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return a.a.createElement("div",{className:Le.a.QuizCreator},a.a.createElement("div",null,a.a.createElement("h2",null,"Create Quiz"),this.props.error?a.a.createElement(te,{message:this.props.error}):a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.onCreateInputs(),e,a.a.createElement(B,{disabled:!this.state.isFormValid,type:"success",onClick:this.onAddQuestion},"Add Question"),a.a.createElement(B,{disabled:!this.props.quiz.length||this.state.isFormValid,type:"error",onClick:this.onCreateQuiz},"Create New Quiz"))))}}]),n}(r.Component);var Me=Object(y.b)((function(e){return{quiz:e.create.quiz,error:e.create.error}}),(function(e){return{addQuizItem:function(t){return e(function(e){return{type:"ADD_QUIZ_ITEM",item:e}}(t))},createQuiz:function(){return e(function(){var e=Object(q.a)(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("https://react-quiz-df3e9.firebaseio.com/quzes.json",n().create.quiz);case 3:t({type:"ON_QUIZ_CREATED"}),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),r="".concat(e.t0.response.data.error),console.log(r),t(Fe(r));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(De),Ue=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){var e=a.a.createElement(C.d,null,a.a.createElement(C.b,{path:"/auth",component:je}),a.a.createElement(C.b,{path:"/quiz/:id",component:de}),a.a.createElement(C.b,{path:"/",exact:!0,component:Ie}),a.a.createElement(C.a,{to:"/"}));return this.props.isAuthorized&&(e=a.a.createElement(C.d,null,a.a.createElement(C.b,{path:"/quiz-creator",component:Me}),a.a.createElement(C.b,{path:"/quiz/:id",component:de}),a.a.createElement(C.b,{path:"/logout",component:Ae}),a.a.createElement(C.b,{path:"/",exact:!0,component:Ie}),a.a.createElement(C.a,{to:"/"}))),a.a.createElement(O,{isAuthorized:this.props.isAuthorized},e)}}]),n}(r.Component);var Ze=Object(C.g)(Object(y.b)((function(e){return{isAuthorized:!!e.auth.token}}),(function(e){return{autoLogin:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expiresIn"));n<=new Date?e(T()):(e(Q(t)),e(x((n.getTime()-(new Date).getTime())/1e3)))}else e(T())}))}}}))(Ue)),Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function We(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var He=n(16),Be=n(57),Pe={token:null,error:""};var Ke=n(59),Ye={quiz:[],error:""};var Ge={quizes:[],error:"",loading:!1,results:{},isFinished:!1,activeQuestion:0,answerStatus:null,quiz:[]};var Je=Object(He.combineReducers)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUIZES_START":return Object(he.a)(Object(he.a)({},e),{},{loading:!0});case"FETCH_QUIZES_FINISH ":return Object(he.a)(Object(he.a)({},e),{},{loading:!1,error:"",quizes:t.quizes});case"FETCH_QUIZES_ERROR":return Object(he.a)(Object(he.a)({},e),{},{loading:!1,error:t.error});case"FETCH_QUIZ_SUCCESS":return Object(he.a)(Object(he.a)({},e),{},{loading:!1,quiz:t.quiz});case"ANSWER_STATUS":return Object(he.a)(Object(he.a)({},e),{},{answerStatus:t.answerStatus,results:t.results});case"FINISHED_QUIZ":return Object(he.a)(Object(he.a)({},e),{},{isFinished:!0});case"CHANGE_QUESTION":return Object(he.a)(Object(he.a)({},e),{},{activeQuestion:t.num,answerStatus:null});case"RETRY_QUIZ":return Object(he.a)(Object(he.a)({},e),{},{results:{},isFinished:!1,activeQuestion:0,answerStatus:null});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_QUIZ_ITEM":return Object(he.a)(Object(he.a)({},e),{},{quiz:[].concat(Object(Ke.a)(e.quiz),[t.item])});case"ON_QUIZ_CREATED":return Object(he.a)(Object(he.a)({},e),{},{quiz:[]});case"ON_ERROR":return Object(he.a)(Object(he.a)({},e),{},{error:t.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_ERROR":return Object(he.a)(Object(he.a)({},e),{},{error:t.error});case"ON_TOKEN_SET":return Object(he.a)(Object(he.a)({},e),{},{token:t.token});case"ON_SESSION_EXPIRED":return Object(he.a)(Object(he.a)({},e),{},{token:null});default:return e}}}),Xe=n(58),$e=Object(He.createStore)(Je,Object(Be.composeWithDevTools)(Object(He.applyMiddleware)(Xe.a))),et=a.a.createElement(y.a,{store:$e},a.a.createElement(u.a,null,a.a.createElement(Ze,null)));i.a.render(et,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-quiz-list-learning",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-quiz-list-learning","/service-worker.js");Ve?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):We(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):We(e)}))}}()}},[[60,1,2]]]);
//# sourceMappingURL=main.78a2e9af.chunk.js.map